<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <script src="components/loader.js"></script>
    <link rel="stylesheet" href="components/loader.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
    var count = 0;
    var enemy = Math.floor(Math.random () * 10) + 1;
    console.log(enemy);
    //document.getElementById('emenysStamina').textContent = enemy.toString(10);

    
    function increment() {
        count++;
        if(enemy == count){
            count = 0
            enemy = Math.floor(Math.random () * 10) + 1;
            //document.getElementById('emenysStamina').textContent = enemy.toString(10);
        }
        update();
    }
    
    
    function reset() {
        if (count > 0 && confirm('カウンターをリセットしますか?')) {
            count = 0;
            update();
        }
    }

    function update() {
        var str = '0000' + count;
        str = str.substring(str.length - 4, str.length);
        var digits = $('.counter-digit');
        for (var i = 0; i < str.length; i++) {
            digits.get(i).src = 'img/no_0' + str[i] + '.png'
        }
    }
    
    
    $(function() {
        $('.count-button').on("mouseover", increment);
        $('.reset-button').on("mouseup", reset);
        update();
    })
    
    </script>
</head>
<body>
<div>
    敵の体力<span id = "enemysStamina"></span>
</div>
<div class="counter">
    <img src="img/no_00.png" width="55" class="counter-digit">
    <img src="img/no_00.png" width="55" class="counter-digit">
    <img src="img/no_00.png" width="55" class="counter-digit">
    <img src="img/no_00.png" width="55" class="counter-digit">
</div>
<div class="reset-button-wrapper">
    <button class="reset-button"><img src="img/btn_reset_normal.png" width="64"></button>
</div>
<button class="count-button"><img src="img/btn_count_normal.png" width="127"></button>
</body>
</html>
